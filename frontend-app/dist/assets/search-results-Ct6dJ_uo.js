import{a as N,b as T,r as s,s as C,j as t}from"./index-Dcn6LiOt.js";import{F as b,M as k,N as w}from"./notification-BKZZTHP3.js";function J(){const{mobileWidth:u,favorites:E}=N(),f=`${u} mt-20`,[o,R]=T(),[i,g]=s.useState([]),[M,l]=s.useState(!0),[n,h]=s.useState(JSON.parse(localStorage.getItem("favorites"))||[]),[v,c]=s.useState(!1),[x,S]=s.useState({}),[p,d]=s.useState(!1),y=o.get("searchTerm");s.useEffect(()=>{(async()=>{try{l(!0);const a=await C(y);g(a),l(!1)}catch(a){console.log(a)}})()},[o]),s.useEffect(()=>{const e=JSON.stringify(n);localStorage.setItem("favorites",e)},[n]);const I=e=>{const a=i.find(m=>m.idMeal===e);S(a),c(!0)},j=()=>{c(!1)},F=e=>{const a=i.find(r=>r.idMeal===e);n.find(r=>r.idMeal===e)||h(r=>[...r,a]),d(!0),setTimeout(()=>{d(!1)},3e3)};return M?t.jsx("div",{className:"mt-20",children:t.jsx("p",{className:"text-3xl",children:"Fetching Data..."})}):t.jsxs("div",{className:f,children:[t.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-6 justify-center md:grid-cols-3 lg:grid-cols-4",children:i.map(e=>t.jsx(b,{id:e.idMeal,name:e.strMeal,image:e.strMealThumb,handleViewImage:I,handleFavorite:F},`results${e.idMeal}`))}),t.jsx(k,{viewImage:v,handleCloseImage:j,image:x.strMealThumb}),p&&t.jsx(w,{})]})}export{J as default};
