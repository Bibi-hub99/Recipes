import{u as p,a as I,r as t,j as s,A as y}from"./index-Dcn6LiOt.js";import{F as N,N as k,M as C}from"./notification-BKZZTHP3.js";function E(){const{retunee:c}=p(),{mobileWidth:u,favorites:T}=I(),m=`${u} mt-20`,[r,f]=t.useState([]),[n,g]=t.useState(JSON.parse(localStorage.getItem("favorites"))||[]),[v,o]=t.useState(!1),[M,x]=t.useState({}),[j,l]=t.useState(!1);t.useEffect(()=>{(()=>{const e=JSON.stringify(n);localStorage.setItem("favorites",e)})()},[n]);const S=()=>{o(!1)},h=a=>{const e=r.find(d=>d.idMeal===a);x(e),o(!0)};console.log(n);const F=a=>{const e=r.find(i=>i.idMeal===a);n.find(i=>i.idMeal===a)||g(i=>[...i,e]),l(!0),setTimeout(()=>{l(!1)},3e3)};return s.jsxs("div",{children:[s.jsx("div",{className:m,children:s.jsx("div",{children:s.jsx(t.Suspense,{fallback:s.jsx("div",{className:"text-3xl",children:"Fetching Data....."}),children:s.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-6 justify-center md:grid-cols-3 lg:grid-cols-4",children:s.jsx(y,{resolve:c,children:a=>(t.useEffect(()=>{f(a.meals)},[]),r.map(e=>s.jsx(N,{image:e.strMealThumb,name:e.strMeal,id:e.idMeal,handleViewImage:h,handleFavorite:F},`menu${e.idMeal}`)))})})})})}),j&&s.jsx(k,{}),s.jsx(C,{viewImage:v,handleCloseImage:S,image:M.strMealThumb})]})}export{E as default};
